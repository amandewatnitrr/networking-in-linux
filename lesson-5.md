# Network Configuration with Netplan

- Netplan is a utility for configuring networking on a Linux system. It's a YAML network configuration abstraction for various backends, like NetworkManager, networkd, and others.

- It provides a way to deploy network configurations on a single system or across a fleet of systems. It is available on different versions of Ubuntu.

- In netplan creates configuration files for either `systemd-networkd` or `NetworkManager` to manage the network connections.

- When `netplan` software runs it genereates config files for the network manager software that's running on the system, the tools that `netplan` refers as renderers.

- It's these renderers that are actually configuring the network interface, not `netplan`, so we do need to ensure that one or the other is available on the system in order for `netplan` to work.

- On a system with Netplan, Netplan runs at startup to generate these configuration files, but we can run the creation process ourselves, too. The configuration files generated by Netplan are stored in a subdirectory of the run directory and are considered ephemeral.

- They're regenerated every time the system boots or every time the Netplan configuration is changed, so the only permanent source of network configuration are Netplan's YAML configuration files.

- These configurations are generally stored in the `/etc/netplan` directory, and if there's more than one configuration file, the files are read in numerical order.

- The configuration files can also be placed in the `/lib/netplan` directory and the `/run/netplan`.

- `netplan` is commonly used to configure ethernet connections, but it can be used to configure bridges, modems etc.. as well. For configuring wifi connections, `netplan` uses `wpa_supplicant`.

- To view the netplan configuration, we can use the command `cat /etc/netplan/01-network-manager-all.yaml`.

```bash
>> ls /etc/netplan
>> 00-installer-config.yaml
>> sudo nano /etc/netplan/00-installer-config.yaml
```

```yaml
network:
    version: 2
    renderer: NetworkManager
    ethernets:
        enp0s3:
            dhcp4: yes
```

`version` - The version of the Netplan configuration file. The current version is 2.
